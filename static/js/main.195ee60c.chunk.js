(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{44:function(e,t,a){e.exports=a(75)},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(38),i=a.n(c),o=(a(49),a(39)),l=a(3);a(50),a(51);var s=function(e){var t=e.header,a=e.text,n=e.visible,c=e.left,i=e.top;return n?r.a.createElement("div",{className:"tooltip",style:{left:c,top:i}},r.a.createElement("label",null,t),a):r.a.createElement("div",null)};var m=function(e){var t=e.id,a=e.seeOutside,c=Object(n.useState)(""),i=Object(l.a)(c,2),o=i[0],m=i[1],u=Object(n.useState)(""),d=Object(l.a)(u,2),h=d[0],p=d[1],f=Object(n.useState)(!1),b=Object(l.a)(f,2),g=b[0],v=b[1],E=Object(n.useState)(0),N=Object(l.a)(E,2),k=N[0],w=N[1],S=Object(n.useState)(0),x=Object(l.a)(S,2),M=x[0],O=x[1],y=function(e){var t={detection:{header:"Detection Chamber",text:r.a.createElement("p",null,"This chamber contains the mass spectrometer and often has pressures as low as 10",r.a.createElement("sup",null,"-11")," Torr.")},doping:{header:"Doping Chamber",text:r.a.createElement("p",null,"This chamber is where the analyte molecules condense into the molecular beam.")},source:{header:"Source Chamber",text:r.a.createElement("p",null,"This is where the Helium droplets are formed.")},coldhead:{header:"Coldhead",text:r.a.createElement("p",null,"This is a large piece of copper which is cooled to a temperature of around 30 K by the cyclic evaporation and condensation of helium.")},stark:{header:"Stark Cell",text:r.a.createElement("p",null,"The Stark cell consists of two mirror-polished steel plates that are used to generate an electric field of up to 75 kV/cm. The electric field affects the rotation of the analyte based on its dipole moment.")},quad:{header:"Quadrupole mass spectrometer",text:r.a.createElement("p",null,"The mass spectrometer is used to measure the helium evaporated by the excitation and subsequent relaxation of the analyte due to the laser.")},laserbeam:{header:"Infrared Laser",text:r.a.createElement("p",null,"The laser is used to excite the analyte at certain wavelengths, which causes the moleule to relax, transferring its energy to the helium surrounding it, causing some helium to evaporate.\xa0 This causes a decrease in the total ion signal from the mass spectrometer, which forms a spectrum when scanning across a range of wavelengths.")},canister:{header:"Gas Cannister",text:r.a.createElement("p",null,"The analyte, in gas form, is stored here. It is leaked into the doping chamber via a leak valve")},skimmer:{header:"Skimmer",text:r.a.createElement("p",null,"The spray of helium droplets are skimmed into a molecular beam, which then travels into the doping chamber")},nozzle:{header:"Nozzle",text:r.a.createElement("p",null,"The helium gas, chilled from thermal contact with the coldhead, is ejected from the nozzle into vacuum (~10",r.a.createElement("sup",null,"-5")," Torr), rapidly cooling the helium to 0.4 K, where it condenses into a superfluid.")}};v(!0),m(t[e].header),p(t[e].text)};return r.a.createElement("div",{className:"hendi-box",id:t,onMouseMove:function(e){w(e.clientY),O(e.clientX)}},r.a.createElement("img",{alt:"background",className:"hendi-component ".concat(""),id:"hendi-bg",src:"/Virtual-HeNDI-Spectrometer/images/hendi-background.png"}),r.a.createElement("img",{alt:"foreground",className:"hendi-component ".concat(a?"":"transparent"),id:"hendi-fg",src:"/Virtual-HeNDI-Spectrometer/images/hendi-foreground.png"}),r.a.createElement("img",{alt:"coldhead",className:"hendi-component ".concat(a?"transparent":""),id:"hendi-ch",src:"/Virtual-HeNDI-Spectrometer/images/hendi-coldhead.png"}),r.a.createElement("img",{alt:"stark cell",className:"hendi-component ".concat(a?"transparent":""),id:"hendi-stark",src:"/Virtual-HeNDI-Spectrometer/images/hendi-stark.png"}),r.a.createElement("img",{alt:"quadrupole",className:"hendi-component ".concat(a?"transparent":""),id:"hendi-quad",src:"/Virtual-HeNDI-Spectrometer/images/hendi-quad.png"}),r.a.createElement("img",{alt:"laserbeam",className:"hendi-component ".concat(a?"transparent":""),id:"hendi-laserbeam",src:"/Virtual-HeNDI-Spectrometer/images/hendi-laserbeam.png"}),r.a.createElement("img",{alt:"OCS canister",className:"hendi-component ".concat(a?"":"transparent"),id:"hendi-ocs-canister",src:"/Virtual-HeNDI-Spectrometer/images/hendi-ocs-canister.png",useMap:"hendi-map"}),r.a.createElement(s,{header:o,text:h,visible:g,left:M,top:k}),a&&r.a.createElement("div",{className:"area-div",id:"hendi-detection-clickable",onMouseEnter:function(){y("detection")},onMouseLeave:function(){v(!1)}}),a&&r.a.createElement("div",{className:"area-div",id:"hendi-doping-clickable",onMouseEnter:function(){y("doping")},onMouseLeave:function(){v(!1)}}),a&&r.a.createElement("div",{className:"area-div",id:"hendi-source-clickable",onMouseEnter:function(){y("source")},onMouseLeave:function(){v(!1)}}),!a&&r.a.createElement("div",{className:"area-div",id:"hendi-ch-clickable",onMouseEnter:function(){y("coldhead")},onMouseLeave:function(){v(!1)}}),!a&&r.a.createElement("div",{className:"area-div",id:"hendi-stark-clickable",onMouseEnter:function(){y("stark")},onMouseLeave:function(){v(!1)}}),!a&&r.a.createElement("div",{className:"area-div",id:"hendi-quad-clickable",onMouseEnter:function(){y("quad")},onMouseLeave:function(){v(!1)}}),!a&&r.a.createElement("div",{className:"area-div",id:"hendi-laserbeam-clickable",onMouseEnter:function(){y("laserbeam")},onMouseLeave:function(){v(!1)}}),a&&r.a.createElement("div",{className:"area-div",id:"hendi-canister-clickable",onMouseEnter:function(){y("canister")},onMouseLeave:function(){v(!1)}}),!a&&r.a.createElement("div",{className:"area-div",id:"hendi-skimmer-clickable",onMouseEnter:function(){y("skimmer")},onMouseLeave:function(){v(!1)}}),!a&&r.a.createElement("div",{className:"area-div",id:"hendi-nozzle-clickable",onMouseEnter:function(){y("nozzle")},onMouseLeave:function(){v(!1)}}))};a(9),a(52),a(53);var u=function(e){var t=e.val,a=e.digits,n=e.id,c=e.className,i=e.name,o=e.unit,l=e.onChange,s=e.increment,m=e.decrement,u=String(Number(t).toFixed(2)).padStart(a||6,"0");return r.a.createElement("div",{id:n,className:c+" digital-readout-adjustable"},r.a.createElement("input",{className:"digital-readout",name:i,value:u,unit:o,digits:a||6,onChange:l,style:{width:"".concat(((a||6)+1)/2,"em")}}),r.a.createElement("label",{className:"digital-readout"},o),r.a.createElement("div",{className:"button-container"},r.a.createElement("button",{onClick:s},"+"),r.a.createElement("button",{onClick:m},"-")))};var d=function(e){var t=e.id,a=e.temperature,n=e.setTemperature,c=function(e){return Math.min(Math.max(e,13.5),20)};return r.a.createElement("div",{className:"temp-controller",id:t},r.a.createElement("div",{className:"instrument-label-readout",id:"temp-controller-temp"},r.a.createElement("label",{className:"instrument-label"},"Nozzle Temperature"),r.a.createElement(u,{name:"temperature",val:a,unit:"K",digits:5,increment:function(){return n(c(a+.5))},decrement:function(){return n(c(a-.5))},handleChange:function(e){var t=e.target.value;return n(c(t))}})))};a(54);var h=function(e){var t=e.id,a=e.min_lambda,n=e.setMinLambda,c=e.max_lambda,i=e.setMaxLambda,o=function(e){return Math.min(Math.max(e,2e3),2100)},l=function(e){var t=e.target.name;try{var a=Number(e.target.value);console.log(a),"min_lambda"===t?n(o(a)):i(o(a))}catch(r){console.error(r)}},s=function(e,t){return function(){t(o(e+.5))}},m=function(e,t){return function(){t(o(e-.5))}};return r.a.createElement("div",{className:"temp-controller",id:t},r.a.createElement("div",{className:"instrument-label-readout",id:"temp-controller-temp"},r.a.createElement("label",{className:"instrument-label"},"Min Wavelength"),r.a.createElement(u,{name:"min_lambda",increment:s(a,n),decrement:m(a,n),unit:"cm-1",digits:7,onChange:l,val:a}),r.a.createElement("label",{className:"instrument-label"},"Max Wavelength"),r.a.createElement(u,{name:"max_lambda",increment:s(c,i),decrement:m(c,i),unit:"cm-1",digits:7,onChange:l,val:c})))},p=function(e){return r.a.createElement("div",{className:"spinner-container"},r.a.createElement("img",{src:"/Virtual-HeNDI-Spectrometer/logo512.png",className:"spinner",alt:"spinner"}),r.a.createElement("label",null,"Loading..."))},f=a(40),b=a(43);var g=function(e){var t=e.data,a=r.a.createRef();return Object(n.useEffect)((function(){new f.a(a.current,t,{animatedZooms:!0,xlabel:"Wavelength (cm<sup>-1</sup>)",ylabel:"Intensity",width:"auto",height:"auto",xValueParser:parseFloat})}),[]),r.a.createElement("div",null,r.a.createElement("div",{id:"spectrum",ref:a}),r.a.createElement("button",{onClick:function(){var e=new Blob([t],{type:"text/plain;charset=utf-8"});Object(b.saveAs)(e,"spectrum.csv")}},"Download Spectrum"))},v=a(27),E=a.n(v);a(74);var N=function(e){return r.a.createElement("div",{className:"box"},r.a.createElement("h1",{className:"header"},"Usage"),r.a.createElement("p",{className:"instructions"},'In order to view a tooltip about a component of the instrument, hover your mouse over it. In order to view inside the instrument, click the "See inside the instrument" button in the top right corner. To run a spectrum, specify the wavelength range and the temperature using the controls and then click the "Run Spectrum" button. A spectrum should appear after a few seconds. If you wish to change the parameters, do so and then click "Run Spectrum" again, as it does not update automatically. Once the spectrum is loaded, you may download the spectrum as a .csv file. You may interact with the spectrum in a few ways: Zoom in on a section by pressing down the left mouse button, dragging across the section, and then releasing. Scrub the spectrum by pressing down the left mouse button and dragging across the spectrum while pressing the "shift" key. Reset the view by double-clicking on the spectrum.'))};function k(e){return r.a.createElement("div",{className:"spinner-container"},r.a.createElement("img",{src:"/Virtual-HeNDI-Spectrometer/error.png",className:"error",alt:"error"}),r.a.createElement("label",null,"Error fetching spectrum!"))}var w=function(){var e=r.a.createRef(),t=r.a.createRef(),a=Object(n.useState)(13.5),c=Object(l.a)(a,2),i=c[0],s=c[1],u=r.a.createRef(),f=Object(n.useState)(2030),b=Object(l.a)(f,2),v=b[0],w=b[1],S=Object(n.useState)(2090),x=Object(l.a)(S,2),M=x[0],O=x[1],y=Object(n.useState)(!0),j=Object(l.a)(y,2),I=j[0],T=j[1],C=Object(n.useState)("See Inside the Instrument"),L=Object(l.a)(C,2),D=L[0],V=L[1],z=Object(n.useState)(""),H=Object(l.a)(z,2),_=H[0],q=H[1],R=Object(n.useState)(!1),W=Object(l.a)(R,2),B=W[0],K=W[1],A=Object(n.useState)(!1),F=Object(l.a)(A,2),J=F[0],Y=F[1],Z=window.location.href.includes("localhost:3000")?"http://localhost:3000":"https://brennaser.github.io/Virtual-HeNDI-Spectrometer";return Object(n.useEffect)((function(){!0}),[]),r.a.createElement("div",{id:"main-virtual-hendi-interface-container"},r.a.createElement(m,{id:"hendi-instrument",ref:e,seeOutside:I}),r.a.createElement("div",{id:"control-box"},r.a.createElement("button",{onClick:function(){I?(T(!1),V("Toggle Instrument Transparency")):(T(!0),V("See Inside the Instrument"))}},D),r.a.createElement(d,{id:"temperature-controller",ref:t,temperature:i,setTemperature:s}),r.a.createElement(h,{id:"wavelength-controller",parent:this,ref:u,min_lambda:v,setMinLambda:w,max_lambda:M,setMaxLambda:O}),r.a.createElement("button",{onClick:function(){var e={temperature:i,min_lambda:v,max_lambda:M};console.log(e);var t="".concat(Z,"/interpolator/cli.py");console.log("requesting spectrum"),K(!0),E.a.get(t,Object(o.a)("params")).then((function(e){var t=e.data.url;E.a.get(t).then((function(e){console.log("received spectrum"),q(e.data),K(!1),Y(!1)})).catch((function(e){console.error("error loading spectrum:",e),K(!1),Y(!0)}))})).catch((function(e){console.error("error triggering lambda:",e),K(!1),Y(!0)}))}},"Run Spectrum"),B?r.a.createElement(p,null):J?r.a.createElement(k,null):_&&r.a.createElement(g,{data:_}),r.a.createElement(N,null)))};var S=function(){return r.a.createElement(w,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));document.title="Virtual HENDI Spectrometer",i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){}},[[44,1,2]]]);
//# sourceMappingURL=main.195ee60c.chunk.js.map